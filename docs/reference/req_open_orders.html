<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Request and Bind Open Orders Placed from Within TWS Itself — req_open_orders • InteractiveTradeR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cyborg/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  <script src="../extra.js"></script>

<meta property="og:title" content="Request and Bind Open Orders Placed from Within TWS Itself — req_open_orders" />
<meta property="og:description" content="This function as implemented in InteractiveTradeR differs slightly from the
default *reqOpenOrders*() function implemented in the standard API in that
`req_open_orders`() takes no arguments as it may only be invoked for
Client ID 0, the TWS GUI client ID.
For requesting open orders on other sockets, use req_all_open_orders
to fetch all orders, no matter what socket was used to open them, and then
use subsetting to filter the
output tibble by client ID to select the orders you're
interested in.
The only reason to use `req_open_orders`() in InteractiveTradeR is due to an
additional special property of `req_open_orders`(): **when called,
`req_open_orders`() causes any and all open orders that were created within
the TWS itself to become *bound***.
**Definition of &quot;Bound&quot;**:
In IB jargon, an order is &quot;*bound*&quot; if it is assigned an order ID. By
default, orders placed within the TWS do not have order IDs (in other words,
they're *unbound*). Because the API requires order IDs to modify or cancel an
order, a call to `req_open_orders`() is necessary to enable the API to cancel
or modify orders placed within TWS.
Relevant IB documentation may be found on the
Open
Orders page." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">InteractiveTradeR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Socks.html">Socks</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/JakeVestal/InteractiveTradeR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Request and Bind Open Orders Placed from Within TWS Itself</h1>
    <small class="dont-index">Source: <a href='https://github.com/JakeVestal/InteractiveTradeR/blob/master/R/req_open_orders.R'><code>R/req_open_orders.R</code></a></small>
    <div class="hidden name"><code>req_open_orders.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function as implemented in InteractiveTradeR differs slightly from the
default *reqOpenOrders*() function implemented in the standard API in that
`req_open_orders`() takes no arguments as it may only be invoked for
<a href='Client-ID-0.html'>Client ID 0</a>, the TWS GUI client ID.</p>
<p>For requesting open orders on other sockets, use <a href='req_all_open_orders.html'>req_all_open_orders</a>
to fetch all orders, no matter what socket was used to open them, and then
use <a href='http://adv-r.had.co.nz/Subsetting.html'>subsetting</a> to filter the
output <a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a> by client ID to select the orders you're
interested in.</p>
<p>The only reason to use `req_open_orders`() in InteractiveTradeR is due to an
additional special property of `req_open_orders`(): **when called,
`req_open_orders`() causes any and all open orders that were created within
the TWS itself to become *bound***.</p>
<p>**Definition of "Bound"**:</p>
<p>In IB jargon, an order is "*bound*" if it is assigned an order ID. By
default, orders placed within the TWS do not have order IDs (in other words,
they're *unbound*). Because the API requires order IDs to modify or cancel an
order, a call to `req_open_orders`() is necessary to enable the API to cancel
or modify orders placed within TWS.</p>
<p>Relevant IB documentation may be found on the
<a href='https://interactivebrokers.github.io/tws-api/open_orders.html'>Open
Orders</a> page.</p>
    </div>

    <pre class="usage"><span class='fu'>req_open_orders</span>()</pre>


    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>This function is called for its side effect of updating the
<strong><code>treasury</code></strong>, which takes place every time the function executes.
Additionally, the function's return value depends upon the value passed in as
<em>return_data</em> as follows:</p>
<ul>
<li><p><strong>If <code>return_data == FALSE</code></strong>: A Boolean success flag,
  returned invisibly, indicating that the function executed correctly and
  updated the <strong><code>treasury</code></strong> with any new data retrieved.</p></li>
<li><p><strong>If <code>return_data == TRUE</code></strong>: Any new data retrieved will
  be returned in a <a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a> in addition to being added to the
  <strong><code>treasury</code></strong>. If no new data is available, returns NULL.</p></li>
</ul>

<p><em>return_data</em> defaults to TRUE unless <em>channel</em> is specified.</p>
    <h2 class="hasAnchor" id="use-case"><a class="anchor" href="#use-case"></a>Use Case</h2>

    

<p>The default behavior of the TWS is to *not* assign order IDs to orders opened
within the app itself. That being the case, consider the situation in which
you or a colleague has opened orders from within the TWI app. Because the
open orders have no IDs, you have no way to identify them in the API, and are
therefore unable to cancel or modify them using the API.</p>
<p>By calling `req_open_orders`(), all open orders that were opened within the
TWS app are returned in a <a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a> as the function's output.
Additionally, **these orders are given an order ID so that they can now be
modified/canceled within the API**.</p>
    <h2 class="hasAnchor" id="use-req-auto-open-orders-to-assign-ids-to-future-tws-orders"><a class="anchor" href="#use-req-auto-open-orders-to-assign-ids-to-future-tws-orders"></a>Use `req_auto_open_orders`() to Assign IDs to Future TWS Orders</h2>

    

<p>By calling <a href='req_auto_open_orders.html'>req_auto_open_orders</a>, the behavior of the TWS app will be
reconfigured to bind all orders created within the app, but will not affect
open orders that were opened within the app before `req_auto_open_orders`()
was called.</p>
    <h2 class="hasAnchor" id="best-practice"><a class="anchor" href="#best-practice"></a>Best Practice</h2>

    

<p>Make a call to `req_open_orders`() and `req_auto_open_orders`() during the
initialization section of any Shiny app (or script) created with
InteractiveTradeR. This will ensure that:</p>
<p>1) Open orders that were placed within the TWS app before the
 InteractiveTradeR app was started are assigned an order ID by
 `req_open_orders`() so that they are accessible within the API</p>
<p>2) Future orders placed within the TWS app while the InteractiveTradeR app
 is running are also accessible to the InteractiveTradeR app because the call
 to `req_auto_open_orders`() reconfigured the TWS to assign them order IDs by
 default.</p>
<p>With this practice, any InteractiveTradeR app only ever needs to call
`req_open_orders`() once during initialization.</p>
    <h2 class="hasAnchor" id="open-orders-and-order-statuses-treasury-objects"><a class="anchor" href="#open-orders-and-order-statuses-treasury-objects"></a>OPEN_ORDERS and ORDER_STATUSES Treasury Objects</h2>

    

<p>This function updates the following <a href='treasury.html'>treasury</a> objects:</p>
<p><strong>OPEN_ORDERS</strong> A <a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a> in which each row represents an
order that, at the time it was last updated, had not fully filled. The column
names are described in the
<a href='https://interactivebrokers.github.io/tws-api/classIBApi_1_1Contract.html'>Contract</a>,
<a href='https://interactivebrokers.github.io/tws-api/classIBApi_1_1Order.html'>Order</a>,
and
<a href='https://interactivebrokers.github.io/tws-api/classIBApi_1_1OrderState.html'>OrderState</a>
sections of IB's documentation.</p>
<p><strong>ORDER_STATUSES</strong> A <a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a> in which each row represents
an order that, at the time it was last updated, had not fully filled. The
column names are described in the
<a href='https://interactivebrokers.github.io/tws-api/interfaceIBApi_1_1EWrapper.html#a17f2a02d6449710b6394d0266a353313'>Order
Status</a> section of IB's documentation.</p>
    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>req_auto_open_orders</p>
<p>Other orders: 
<code><a href='cancel_order.html'>cancel_order</a>()</code>,
<code><a href='place_order.html'>place_order</a>()</code>,
<code><a href='req_all_open_orders.html'>req_all_open_orders</a>()</code>,
<code><a href='req_auto_open_orders.html'>req_auto_open_orders</a>()</code>,
<code><a href='req_completed_orders.html'>req_completed_orders</a>()</code>,
<code><a href='req_ids.html'>req_ids</a>()</code></p></div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#value">Value</a></li>
      <li><a href="#use-case">Use Case</a></li>
      <li><a href="#use-req-auto-open-orders-to-assign-ids-to-future-tws-orders">Use `req_auto_open_orders`() to Assign IDs to Future TWS Orders</a></li>
      <li><a href="#best-practice">Best Practice</a></li>
      <li><a href="#open-orders-and-order-statuses-treasury-objects">OPEN_ORDERS and ORDER_STATUSES Treasury Objects</a></li>
      <li><a href="#see-also">See also</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jake Vestal.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


