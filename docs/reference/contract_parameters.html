<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>The `contract` Object and Contract Parameters — contract_parameters • InteractiveTradeR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/css/bootstrap.min.css" integrity="sha256-916EbMg70RQy9LHiGkXzG8hSg9EdNy97GazNG/aiY1w=" crossorigin="anonymous" />

<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>




<meta property="og:title" content="The `contract` Object and Contract Parameters — contract_parameters" />
<meta property="og:description" content="In InteractiveTradeR, a `contract` object is simply a named character vector
or list whose elements correspond to one or more of the `contract_parameters`
below. For example:
**AMD US Stock** 
`c(symbol = &quot;AMD&quot;, secType  = &quot;STK&quot;, currency = &quot;USD&quot;, exchange = &quot;SMART&quot;)`,
**EUR - GBP currency pair** 
`c(symbol = &quot;EUR&quot;, secType  = &quot;CASH&quot;, currency = &quot;GBP&quot;, exchange =
&quot;IDEALPRO&quot;)`,
**US T-bill, 2.25%, 31 March 2021** 
`c(symbol= &quot;912828C57&quot;, secType = &quot;BOND&quot;, exchange = &quot;SMART&quot;, currency =
&quot;USD&quot;)`, and
**E-mini S&amp;amp;P 500 Futures** 
`c(symbol = &quot;ES&quot;, secType = &quot;FUT&quot;, exchange = &quot;GLOBEX&quot;, currency = &quot;USD&quot;,
lastTradeDateOrContractMonth = &quot;201903&quot;)`
...are all valid `contract` objects." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">InteractiveTradeR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>The `contract` Object and Contract Parameters</h1>
    
    <div class="hidden name"><code>contract_parameters.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>In InteractiveTradeR, a `contract` object is simply a named character vector
or list whose elements correspond to one or more of the `contract_parameters`
below. For example:</p>
<p>**AMD US Stock** <br />
`c(symbol = "AMD", secType  = "STK", currency = "USD", exchange = "SMART")`,</p>
<p>**EUR - GBP currency pair** <br />
`c(symbol = "EUR", secType  = "CASH", currency = "GBP", exchange =
"IDEALPRO")`,</p>
<p>**US T-bill, 2.25%, 31 March 2021** <br />
`c(symbol= "912828C57", secType = "BOND", exchange = "SMART", currency =
"USD")`, and</p>
<p>**E-mini S&amp;P 500 Futures** <br />
`c(symbol = "ES", secType = "FUT", exchange = "GLOBEX", currency = "USD",
lastTradeDateOrContractMonth = "201903")`</p>
<p>...are all valid `contract` objects.</p>
    </div>



    <h2 class="hasAnchor" id="-conid-and-exchange-are-special"><a class="anchor" href="#-conid-and-exchange-are-special"></a>`conId` and `exchange` are Special</h2>

    


<p>**If a `contract` object is un-named and has only a single element**
(`length(contract) == 1`), then InteractiveTradeR will treat the contract
object as though it contained a `conId`.</p>
<p>**If a `contract` object is un-named and contains exactly two elements**
(`length(contract) == 2`), then InteractiveTradeR will treat the contract
object as though it contained a `conId` and an `exchange` (in any order).</p>
<p>Because a `conId` is the unique identifier of any contract in IB's system,
this convention makes a few useful shortcuts possible in InteractiveTradeR:</p>
<p>**Functions** (except for `place_order`(), below) **that accept a `contract`
argument require only that the `conId` be specified**. In other words,
`req_contract_details(8314)` will return the contract details for IBM US
Stock, whose `conId = 8314`. This syntax is much simpler than having to pass
in the full **basic contract** information: `c(symbol = "IBM", secType =
"STK", currency = "USD", exchange = "SMART")`.</p>
<p>**For `place_order`(), the `contract` object must also include an exchange.**
Because orders require the user to specify the exchange on which the order is
to be placed, the command</p>
<p>`place_order(
    8314,
    c(
      action        = "BUY",
      account       = "DU1234567",
      orderType     = "MKT",
      totalQuantity = 50
    )
  )`</p>
<p>would **not** work to buy 50 shares of IBM because the exchange isn't
specified. Instead, the trader would need to include an exchange; for
example, the SMART exchange:</p>
<p>`place_order(
    c(8314, "SMART"),
    c(
      action        = "BUY",
      account       = "DU1234567",
      orderType     = "MKT",
      totalQuantity = 50
    )
  )`</p>
    <h2 class="hasAnchor" id="basic-contract-definitions"><a class="anchor" href="#basic-contract-definitions"></a>Basic Contract Definitions</h2>

    



<p>* **comboLegs** &lt;<a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a>&gt;: Defines the individual contract legs
for placing a
<a href='https://www.interactivebrokers.com/php/whiteLabel/Interoperability/Socket_Client_Java/java_combo.htm'>Combination
Order</a>. Each row in the tibble corresponds to a contract leg. Only those
columns necessary to completely specify a combo leg's identity, exchange, and
order weight need to be specified -- not all columns are required.</p>
<p>For example, the following `comboLegs` tibble is sufficient to place a 1:1
combo order for the two stocks identified by `conId`:</p><table class='table'>
<tr><td>**`conId`**</td><td>**`ratio`**</td><td>**`action`**</td><td>**`exchange`**</td></tr>
<tr><td>`&lt;numeric&gt;`</td><td>`&lt;numeric&gt;`</td><td>`&lt;character&gt;`</td><td>`&lt;character&gt;`</td></tr>
<tr><td>`43645865`</td><td>`1`</td><td>`"BUY"`</td><td>`"SMART"`</td></tr>
<tr><td>`9408`</td><td>`1`</td><td>`"SELL"`</td><td>`"SMART"`</td></tr>
</table>


<p>`comboLegs` may have the following columns:</p>
<p>* **conId** &lt;numeric&gt;: IB's unique numeric identifier for the contract</p>
<p>* **ratio** &lt;numeric&gt;: The contract's weight in the combo order in terms of
  relative number of contracts; e.g., in a combo order to buy 25<!-- % A and 75% -->
  B, the `ratio` of A and B might be 1 and 3, respectively.</p>
<p>* **action** &lt;character&gt;: "BUY" or "SELL".</p>
<p>* **openClose** &lt;numeric&gt;: Only necessary for institutional (non-retail)
  customers. If you don't know what that is, then you're probably a retail
  customer and don't need to worry about this. Only takes the values **1**,
  **2**, or **3**, which, respectively, identify an order as **opening** or
  **closing** a position, or **unknown**.</p>
<p>* **shortSaleSlot** &lt;numeric&gt;: Only takes the values **1** or **2**
  specifying the short sale service as **clearing broker** or **third
  party**, respectively.</p>
<p>* **designatedLocation** &lt;character&gt;: If `shortSaleSlot == 2` (third
  party), specifies the third party that will service the short.</p>
<p>* **comboLegsDescrip**
* **conID** &lt;numeric&gt;: Interactive Brokers' unique numeric identifier for a
specified contract
* **symbol** &lt;chr&gt;: The exchange symbol under which the asset is traded,
e.g., "FB", "AAPL", "IBM"
* **secType** &lt;chr&gt;: Abbreviation describing security's type:</p><table class='table'>
<tr><td>**BAG**</td><td>**BOND**</td><td>**CASH**</td><td>**CMDTY**</td><td>**FOP**</td><td>**FUND**</td></tr>
<tr><td>combo</td><td>bond</td><td>forex pair</td><td>commodity</td><td>futures option</td><td>mutual fund</td></tr>
</table>

<table class='table'>
<tr><td>**FUT**</td><td>**IND**</td><td>**NEWS**</td><td>**OPT**</td><td>**STK**</td><td>**WAR**</td></tr>
<tr><td>futures</td><td>index</td><td>news</td><td>option</td><td>stock or ETF</td><td>warrant</td></tr>
</table>
<p>* **lastTradeDateOrContractMonth** For options &amp; futures, the last
trading day or contract month (as applicable), in YYYYMMDD ("\<!-- %Y\\%m\\%d" -->
format in R) and YYYYMM ("\<!-- %Y\\%m" format in R) format, respectively. -->
* **strike** &lt;numeric&gt;: Strike price of asset, if applicable.
* **right** &lt;chr&gt;: If applicable, the "right" parameter of a contract, e.g.
"C" (right to buy, for a call), "P" (right to sell, put).
* **multiplier** &lt;numeric&gt;: The "lot size" of a contract, if applicable;
e.g., an options contract that affects 100 shares of underlying. Numeric.
* **exchange** &lt;chr&gt;: Destination exchange; i.e., the exchange on which the
contract is to be traded.
 * **currency** &lt;chr&gt;: 3-letter abbreviation of the currency in which the
 contract is traded, e.g. "USD", "HKD".
* **localSymbol** &lt;chr&gt;: The symbol under which the contract is traded in its
primary exchange.
* **primaryExchange** &lt;chr&gt;: Main exchange on which a contract is traded,
e.g., "NASDAQ", "NYSE".
* **tradingClass** &lt;chr&gt;: Code that classifies an asset based on the manner
in which it is traded. Stocks, for example, have `trading_class` = "NMS"
denoting the United States'
<a href='https://en.wikipedia.org/wiki/National_Market_System'>National Market
System</a> for equities.</p>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#-conid-and-exchange-are-special">`conId` and `exchange` are Special</a></li>
      <li><a href="#basic-contract-definitions">Basic Contract Definitions</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jake Vestal.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


