<!-- Generated by pkgdown: do not edit by hand -->
<!DOCTYPE html>
<html lang="en">
  <head>
  <meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<title>Request Account Summary — req_account_summary • InteractiveTradeR</title>


<!-- jquery -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.3.1/jquery.min.js" integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8=" crossorigin="anonymous"></script>
<!-- Bootstrap -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/bootswatch/3.3.7/cyborg/bootstrap.min.css" rel="stylesheet" crossorigin="anonymous" />


<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.3.7/js/bootstrap.min.js" integrity="sha256-U5ZEeKfGNOja007MMD3YBI0A3OSZOQbeG6z2f2Y0hu8=" crossorigin="anonymous"></script>

<!-- Font Awesome icons -->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/all.min.css" integrity="sha256-nAmazAk6vS34Xqo0BSrTb+abbtFlgsFK7NKSi6o7Y78=" crossorigin="anonymous" />
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.7.1/css/v4-shims.min.css" integrity="sha256-6qHlizsOWFskGlwVOKuns+D1nB6ssZrHQrNj1wGplHc=" crossorigin="anonymous" />

<!-- clipboard.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.4/clipboard.min.js" integrity="sha256-FiZwavyI2V6+EXO1U+xzLG3IKldpiTFf3153ea9zikQ=" crossorigin="anonymous"></script>

<!-- headroom.js -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/headroom.min.js" integrity="sha256-DJFC1kqIhelURkuza0AvYal5RxMtpzLjFhsnVIeuk+U=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.9.4/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script>

<!-- pkgdown -->
<link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script>



  <link href="../extra.css" rel="stylesheet">
  <script src="../extra.js"></script>

<meta property="og:title" content="Request Account Summary — req_account_summary" />
<meta property="og:description" content="This function will either initiate an ongoing subscription for account
summary data (if a persistant ASYNC socket is passed as input to
channel), or quickly fetch the data on a socket that is opened for that
purpose and then closed (if no value is passed as input to  channel).
All data retrieved by this function is stored in the ACCOUNT_SUMARY
object accessible in the treasury. The accounts to be included in the
output are specified by the groupName parameter. The user may choose to
include any/all of a selection of account values by passing appropriate
values as tags." />
<meta name="twitter:card" content="summary" />




<!-- mathjax -->
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script>

<!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->



  </head>

  <body>
    <div class="container template-reference-topic">
      <header>
      <div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">InteractiveTradeR</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.0.0.9000</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
        <li>
  <a href="../index.html">
    <span class="fas fa fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
    <li>
      <a href="../articles/Socks.html">Socks</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
      <ul class="nav navbar-nav navbar-right">
        <li>
  <a href="https://github.com/JakeVestal/InteractiveTradeR">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
      
    </div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header>

<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Request Account Summary</h1>
    <small class="dont-index">Source: <a href='https://github.com/JakeVestal/InteractiveTradeR/blob/master/R/req_account_summary.R'><code>R/req_account_summary.R</code></a></small>
    <div class="hidden name"><code>req_account_summary.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>This function will either initiate an ongoing subscription for account
summary data (if a persistant ASYNC socket is passed as input to
<em>channel</em>), or quickly fetch the data on a socket that is opened for that
purpose and then closed (if no value is passed as input to  <em>channel</em>).
All data retrieved by this function is stored in the <strong>ACCOUNT_SUMARY</strong>
object accessible in the <strong><code>treasury</code></strong>. The accounts to be included in the
output are specified by the <em>groupName</em> parameter. The user may choose to
include any/all of a selection of account values by passing appropriate
values as <em>tags</em>.</p>
    </div>

    <pre class="usage"><span class='fu'>req_account_summary</span>(
  <span class='kw'>groupName</span> <span class='kw'>=</span> <span class='st'>"All"</span>,
  <span class='kw'>tags</span> <span class='kw'>=</span> <span class='st'>"All"</span>,
  <span class='kw'>channel</span> <span class='kw'>=</span> <span class='kw'>NULL</span>,
  <span class='kw'>return_data</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/NULL.html'>is.null</a></span>(<span class='no'>channel</span>)
)</pre>

    <h2 class="hasAnchor" id="arguments"><a class="anchor" href="#arguments"></a>Arguments</h2>
    <table class="ref-arguments">
    <colgroup><col class="name" /><col class="desc" /></colgroup>
    <tr>
      <th>groupName</th>
      <td><p>Character vector of length 1 containing the name of an existing group of
accounts. Default value is "All". Descriptions of each parameter can be found
on IB's
<a href='https://interactivebrokers.github.io/tws-api/interfaceIBApi_1_1EWrapper.html#acd761f48771f61dd0fb9e9a7d88d4f04'>accountSummary
Tags</a> page.</p></td>
    </tr>
    <tr>
      <th>tags</th>
      <td><p>A character vector containing any or all of the following  allowed tags (Default is all tags):</p>
<p>AccountType, AccruedCash, AvailableFunds, BuyingPower, Cushion, DayTradesRemaining, EquityWithLoanValue, ExcessLiquidity, FullAvailableFunds, FullExcessLiquidity, FullInitMarginReq, FullMaintMarginReq, GrossPositionValue, HighestSeverity, InitMarginReq, Leverage, LookAheadAvailableFunds, LookAheadExcessLiquidity, LookAheadInitMarginReq, LookAheadMaintMarginReq, LookAheadNextChange, MaintMarginReq, NetLiquidation, PreviousEquityWithLoanValue, ReqTEquity, ReqTMargin, SettledCash, SMA, TotalCashValue</p>
<p>You may also make use of the <code>$LEDGER</code> tag to receive summary data in different currencies. See <strong>Details</strong>.</p></td>
    </tr>
    <tr>
      <th>channel</th>
      <td><p>One of the following:</p>
<ul>
<li><p><strong>Not Specified</strong> (Default): Opens a new connection to IB, uses
  it to issue the request and retrieve the response, and closes connection
  behind itself upon completion.</p></li>
<li><p><strong>The Name of a Sock</strong>: Character vector, length 1. The name of
  an open, connected socket in the <a href='socks.html'>sock_drawer</a>; e.g., "master", "tws",
  or "sock_123"</p></li>
<li><p><strong>Numeric Client ID</strong>: Numeric, length 1. The client ID for
  which open orders are to be retrieved; e.g., 0, 874, 123. If a client ID is
  passed, and no socket in the <a href='socks.html'>sock_drawer</a> is connected on that ID,
  then a new socket will be opened on that ID, and closed upon function exit.</p></li>
<li><p><strong>A <code>sockconn</code> Connection</strong>: An open connection object of
  class "sockconn", connected to the IB API; e.g., <code>sock_drawer$tws</code></p></li>
</ul></td>
    </tr>
    <tr>
      <th>return_data</th>
      <td><p>Boolean of length 1. Defaults to TRUE unless argument <em>channel</em> is
specified. If FALSE, data retrieved by the function will be returned as the
funciton's output. If TRUE, then a Boolean succeses flag will be returned as
the function's output indicating the success (TRUE) or failure (FALSE) of the
function's attempt to transceive data to/from IB. Data in the
<strong><code>treasury</code></strong> is always updated regardless of the value passed as
<em>return_data</em> in the function call.</p></td>
    </tr>
    </table>

    <h2 class="hasAnchor" id="value"><a class="anchor" href="#value"></a>Value</h2>

    <p>This function is called for its side effect of updating the
<strong><code>treasury</code></strong>, which takes place every time the function executes.
Additionally, the function's return value depends upon the value passed in as
<em>return_data</em> as follows:</p>
<ul>
<li><p><strong>If <code>return_data == FALSE</code></strong>: A Boolean success flag,
  returned invisibly, indicating that the function executed correctly and
  updated the <strong><code>treasury</code></strong> with any new data retrieved.</p></li>
<li><p><strong>If <code>return_data == TRUE</code></strong>: Any new data retrieved will
  be returned in a <a href='https://tibble.tidyverse.org/reference/tibble.html'>tibble</a> in addition to being added to the
  <strong><code>treasury</code></strong>. If no new data is available, returns NULL.</p></li>
</ul>

<p><em>return_data</em> defaults to TRUE unless <em>channel</em> is specified.</p>
    <h2 class="hasAnchor" id="details"><a class="anchor" href="#details"></a>Details</h2>

    <p><strong>Groups</strong>: Interactive Brokers' instructions for creating account
groups can be in the
<a href='https://www.interactivebrokers.com/en/index.php?f=980#3b'>Creating
Account Groups</a> section of IB's TWS webinar notes. Any group create in TWS
can be input as <em>groupName</em>.</p>
<p><strong><code>"$LEDGER"</code> tags</strong>: If you hold assets in your various accounts
that are denominated in different currencies, you can use the use the tag
<code>"$LEDGER:&lt;currency&gt;"</code> to summarize holdings by currency. Here,
<code>&lt;currency&gt;</code> is a three-letter currency abbreviation, e.g.,
<code>"$LEDGER:USD"</code>, <code>"$LEDGER:GBP"</code>, <code>"$LEDGER:CHF"</code>, etc.</p><ul>
<li><p>Use the tag <code>"$LEDGER"</code>, with no currency specified, to get
  summary data in only the currency you have set as your BASE currency in
  Account Management.</p></li>
<li><p>Use <code>"$LEDGER:ALL"</code> tag to get summary data for all currencies.</p></li>
</ul><p><strong>Max of 50 subaccounts for </strong><code>groupName = "All"</code>: If there are
more than 50 subaccounts accessible to a particular user, then the tag "All"
may not be used for <code>groupName</code>.</p>
    <h2 class="hasAnchor" id="behavior"><a class="anchor" href="#behavior"></a>Behavior</h2>

    

<ul>
<li><p><strong>When a subscription is created by calling
  <code>req_account_summary</code>() on a socket</strong>, the server immediately responds
  by providing values for the requested tags for all of the requested
  accounts, and the ACCOUNTS object is immediately updated in the treasury.
  Thereafter, IB will send updated account summary data to the socket,
  including only the <em>tags</em> whose values have changed since the last
  request was made. IB will continue to update the socket until either the
  socket is closed (i.e., with <a href='disconnect.html'>disconnect</a>(), or the subscription is
  cancelled by <a href='cancel_account_summary.html'>cancel_account_summary</a>()).</p></li>
<li><p><strong>The "3-minute" update rule</strong>: IB's documentation states that
  after the initial call to <code>req_account_summary</code>(), those account tags
  whose values have changed will be updated every three (3) minutes. However,
  during market hours, you may observe much shorter, more frequent update
  intervals. You can explore your observed update frequency by experimenting
  with the "Update Behavior" example in the "Examples" section below.</p></li>
<li><p><strong>Only two (2) active summary subscriptions are allowed at a
  time</strong>: In practice, only subscription at a time should be needed if the API
  is well designed. If you do have two live subscriptions to
  <code>req_account_summary</code>(), InteractiveTradeR will not allow you to
  create another one until one of the two existing subscriptions is
  <a href='cancel_account_summary.html'>cancel_account_summary</a>cancelled. This rule differs from IB's
  standard API, in which one of the existing subscriptions is overwritten
  with the new one. The reason for the change is to make it difficult for
  user to overwrite a subscription unintentionally.</p></li>
<li><p><strong>Adjusting <code>req_account_summary</code>() Subscriptions</strong>:
  Calling <code>req_account_summary</code>() with a <em>groupName</em> that is
  identical to that of one of the two possible existing live subscriptions to
  <code>req_account_summary</code>() will overwrite the existing subscription with
  the new one. This can be used to change subscribed <em>tags</em>.</p></li>
</ul>

    <h2 class="hasAnchor" id="accounts-treasury-object"><a class="anchor" href="#accounts-treasury-object"></a>ACCOUNTS Treasury Object</h2>

    

<p><code>req_account_summary</code>() updates the <strong>ACCOUNTS</strong> object in the
treasury. ACCOUNTS is a tibble in which each row represents a
parameter pertaining to a particular account. Has the following columns:</p><ul>
<li><p><strong>account</strong> &lt;chr&gt;: Account ID (e.g., "DF1234567")</p></li>
<li><p><strong>tag</strong>  &lt;chr&gt;: Name of account tag (e.g., "BuyingPower")</p></li>
<li><p><strong>tag_value</strong> &lt;chr&gt;: Value of tag (e.g., "500000")</p></li>
<li><p><strong>currency</strong> &lt;chr&gt;: 3-letter currency abbreviation if
    <code>tag_value</code> is a monetary amount, "" otherwise.</p></li>
</ul>

    <h2 class="hasAnchor" id="see-also"><a class="anchor" href="#see-also"></a>See also</h2>

    <div class='dont-index'><p>Other treasury: 
<code><a href='cancel_account_summary.html'>cancel_account_summary</a>()</code>,
<code><a href='cancel_account_updates_multi.html'>cancel_account_updates_multi</a>()</code>,
<code><a href='req_account_updates_multi.html'>req_account_updates_multi</a>()</code>,
<code><a href='req_account_updates.html'>req_account_updates</a>()</code></p></div>

    <h2 class="hasAnchor" id="examples"><a class="anchor" href="#examples"></a>Examples</h2>
    <pre class="examples"><div class='input'><span class='co'># Fetch ACCOUNTS for all tags and groupName = "All", without creating</span>
<span class='co'># a subscription.</span>

<span class='fu'>req_account_summary</span>()</div><div class='output co'>#&gt; <span style='color: #949494;'># A tibble: 137 x 4</span><span>
#&gt;    account   tag                 tag_value  currency
#&gt;  </span><span style='color: #BCBCBC;'>*</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>               </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> DF1267859 AccountType         INDIVIDUAL </span><span style='color: #949494;'>""</span><span>      
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> DF1267859 Cushion             1          </span><span style='color: #949494;'>""</span><span>      
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> DF1267859 LookAheadNextChange 0          </span><span style='color: #949494;'>""</span><span>      
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> DF1267859 AccruedCash         0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> DF1267859 AvailableFunds      0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> DF1267859 BuyingPower         0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> DF1267859 EquityWithLoanValue 0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> DF1267859 ExcessLiquidity     0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> DF1267859 FullAvailableFunds  0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> DF1267859 FullExcessLiquidity 0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #949494;'># … with 127 more rows</span><span></div><div class='input'>
<span class='co'># View the updated ACCOUNTS object in the treasury</span>
<span class='no'>treasury</span>$<span class='no'>ACCOUNTS</span></div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 209 x 4</span><span>
#&gt;    account   tag                 tag_value  currency
#&gt;  </span><span style='color: #BCBCBC;'>*</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>               </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> DF1267859 AccountType         INDIVIDUAL </span><span style='color: #949494;'>""</span><span>      
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> DF1267859 Cushion             1          </span><span style='color: #949494;'>""</span><span>      
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> DF1267859 LookAheadNextChange 0          </span><span style='color: #949494;'>""</span><span>      
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> DF1267859 AccruedCash         0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> DF1267859 AvailableFunds      0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> DF1267859 BuyingPower         0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> DF1267859 EquityWithLoanValue 0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> DF1267859 ExcessLiquidity     0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> DF1267859 FullAvailableFunds  0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> DF1267859 FullExcessLiquidity 0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #949494;'># … with 199 more rows</span><span></div><div class='input'>
<span class='co'># Reset the ACCOUNTS object when you're ready</span>
<span class='no'>treasury</span>$<span class='no'>ACCOUNTS</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span>

<span class='co'># Fetch just the TotalCashValue, BuyingPower, and GrossPositionValue for</span>
<span class='co'># groupName = "All", again without creating a subscription</span>
<span class='fu'>req_account_summary</span>(
  <span class='kw'>tags</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"TotalCashValue"</span>, <span class='st'>"BuyingPower"</span>, <span class='st'>"GrossPositionValue"</span>)
)</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 18 x 4</span><span>
#&gt;    account   tag                tag_value  currency
#&gt;  </span><span style='color: #BCBCBC;'>*</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>              </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> DF1267859 BuyingPower        0.00       USD     
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> DF1267859 GrossPositionValue 0.00       USD     
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> DF1267859 TotalCashValue     0.00       USD     
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> DU1267860 BuyingPower        4074096.59 USD     
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> DU1267860 GrossPositionValue 4559.26    USD     
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> DU1267860 TotalCashValue     1014815.02 USD     
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> DU1267861 BuyingPower        3801322.86 USD     
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> DU1267861 GrossPositionValue 177852.71  USD     
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> DU1267861 TotalCashValue     818303.31  USD     
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> DU1267862 BuyingPower        4077227.21 USD     
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> DU1267862 GrossPositionValue 1787.35    USD     
#&gt; </span><span style='color: #BCBCBC;'>12</span><span> DU1267862 TotalCashValue     1021574.85 USD     
#&gt; </span><span style='color: #BCBCBC;'>13</span><span> DU1267863 BuyingPower        4082946.57 USD     
#&gt; </span><span style='color: #BCBCBC;'>14</span><span> DU1267863 GrossPositionValue 471.15     USD     
#&gt; </span><span style='color: #BCBCBC;'>15</span><span> DU1267863 TotalCashValue     1020092.16 USD     
#&gt; </span><span style='color: #BCBCBC;'>16</span><span> DU1267864 BuyingPower        4077959.53 USD     
#&gt; </span><span style='color: #BCBCBC;'>17</span><span> DU1267864 GrossPositionValue 31122.04   USD     
#&gt; </span><span style='color: #BCBCBC;'>18</span><span> DU1267864 TotalCashValue     997367.27  USD     </div><div class='input'>
<span class='co'># See that the data is stored in the treasury:</span>
<span class='no'>treasury</span>$<span class='no'>ACCOUNTS</span></div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 18 x 4</span><span>
#&gt;    account   tag                tag_value  currency
#&gt;  </span><span style='color: #BCBCBC;'>*</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>              </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> DF1267859 BuyingPower        0.00       USD     
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> DF1267859 GrossPositionValue 0.00       USD     
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> DF1267859 TotalCashValue     0.00       USD     
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> DU1267860 BuyingPower        4074096.59 USD     
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> DU1267860 GrossPositionValue 4559.26    USD     
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> DU1267860 TotalCashValue     1014815.02 USD     
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> DU1267861 BuyingPower        3801322.86 USD     
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> DU1267861 GrossPositionValue 177852.71  USD     
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> DU1267861 TotalCashValue     818303.31  USD     
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> DU1267862 BuyingPower        4077227.21 USD     
#&gt; </span><span style='color: #BCBCBC;'>11</span><span> DU1267862 GrossPositionValue 1787.35    USD     
#&gt; </span><span style='color: #BCBCBC;'>12</span><span> DU1267862 TotalCashValue     1021574.85 USD     
#&gt; </span><span style='color: #BCBCBC;'>13</span><span> DU1267863 BuyingPower        4082946.57 USD     
#&gt; </span><span style='color: #BCBCBC;'>14</span><span> DU1267863 GrossPositionValue 471.15     USD     
#&gt; </span><span style='color: #BCBCBC;'>15</span><span> DU1267863 TotalCashValue     1020092.16 USD     
#&gt; </span><span style='color: #BCBCBC;'>16</span><span> DU1267864 BuyingPower        4077959.53 USD     
#&gt; </span><span style='color: #BCBCBC;'>17</span><span> DU1267864 GrossPositionValue 31122.04   USD     
#&gt; </span><span style='color: #BCBCBC;'>18</span><span> DU1267864 TotalCashValue     997367.27  USD     </div><div class='input'>
<span class='co'># As above, using some example $LEDGER tags:</span>
<span class='no'>treasury</span>$<span class='no'>ACCOUNTS</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span>
<span class='fu'>req_account_summary</span>(<span class='kw'>tags</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"TotalCashValue"</span>, <span class='st'>"BuyingPower"</span>, <span class='st'>"$LEDGER"</span>))</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 156 x 4</span><span>
#&gt;    account   tag               tag_value currency
#&gt;  </span><span style='color: #BCBCBC;'>*</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>             </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> DF1267859 BuyingPower       0.00      USD     
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> DF1267859 TotalCashValue    0.00      USD     
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> DF1267859 Currency          BASE      BASE    
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> DF1267859 CashBalance       0.00      BASE    
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> DF1267859 TotalCashBalance  0.00      BASE    
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> DF1267859 AccruedCash       0.00      BASE    
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> DF1267859 StockMarketValue  0.00      BASE    
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> DF1267859 OptionMarketValue 0.00      BASE    
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> DF1267859 FutureOptionValue 0.00      BASE    
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> DF1267859 FuturesPNL        0.00      BASE    
#&gt; </span><span style='color: #949494;'># … with 146 more rows</span><span></div><div class='input'><span class='no'>treasury</span>$<span class='no'>ACCOUNTS</span></div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 156 x 4</span><span>
#&gt;    account   tag               tag_value currency
#&gt;  </span><span style='color: #BCBCBC;'>*</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>             </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> DF1267859 BuyingPower       0.00      USD     
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> DF1267859 TotalCashValue    0.00      USD     
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> DF1267859 Currency          BASE      BASE    
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> DF1267859 CashBalance       0.00      BASE    
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> DF1267859 TotalCashBalance  0.00      BASE    
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> DF1267859 AccruedCash       0.00      BASE    
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> DF1267859 StockMarketValue  0.00      BASE    
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> DF1267859 OptionMarketValue 0.00      BASE    
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> DF1267859 FutureOptionValue 0.00      BASE    
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> DF1267859 FuturesPNL        0.00      BASE    
#&gt; </span><span style='color: #949494;'># … with 146 more rows</span><span></div><div class='input'>
<span class='no'>treasury</span>$<span class='no'>ACCOUNTS</span> <span class='kw'>&lt;-</span> <span class='kw'>NULL</span>
<span class='fu'>req_account_summary</span>(<span class='kw'>tags</span> <span class='kw'>=</span> <span class='fu'><a href='https://rdrr.io/r/base/c.html'>c</a></span>(<span class='st'>"TotalCashValue"</span>, <span class='st'>"BuyingPower"</span>, <span class='st'>"$LEDGER:ALL"</span>))</div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 84 x 4</span><span>
#&gt;    account   tag            tag_value  currency
#&gt;  </span><span style='color: #BCBCBC;'>*</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> DF1267859 BuyingPower    0.00       USD     
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> DF1267859 TotalCashValue 0.00       USD     
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> DU1267860 BuyingPower    4074096.59 USD     
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> DU1267860 TotalCashValue 1014815.02 USD     
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> DU1267861 BuyingPower    3801322.86 USD     
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> DU1267861 TotalCashValue 818303.31  USD     
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> DU1267862 BuyingPower    4077227.21 USD     
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> DU1267862 TotalCashValue 1021574.85 USD     
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> DU1267863 BuyingPower    4082946.57 USD     
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> DU1267863 TotalCashValue 1020092.16 USD     
#&gt; </span><span style='color: #949494;'># … with 74 more rows</span><span></div><div class='input'><span class='no'>treasury</span>$<span class='no'>ACCOUNTS</span></div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 84 x 4</span><span>
#&gt;    account   tag            tag_value  currency
#&gt;  </span><span style='color: #BCBCBC;'>*</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>          </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> DF1267859 BuyingPower    0.00       USD     
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> DF1267859 TotalCashValue 0.00       USD     
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> DU1267860 BuyingPower    4074096.59 USD     
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> DU1267860 TotalCashValue 1014815.02 USD     
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> DU1267861 BuyingPower    3801322.86 USD     
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> DU1267861 TotalCashValue 818303.31  USD     
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> DU1267862 BuyingPower    4077227.21 USD     
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> DU1267862 TotalCashValue 1021574.85 USD     
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> DU1267863 BuyingPower    4082946.57 USD     
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> DU1267863 TotalCashValue 1020092.16 USD     
#&gt; </span><span style='color: #949494;'># … with 74 more rows</span><span></div><div class='input'>
<span class='co'>################################################################################</span>
<span class='co'>#### Update Behavior Example: Async Mode #######################################</span>
<span class='co'>################################################################################</span>

<span class='co'>#### This example involves setting up account summary subscriptions. Make sure</span>
<span class='co'>#### that you actually have positions whose values are changing; i.e.,</span>
<span class='co'>#### accounts aren't empty, the market is currently open, etc.</span>

<span class='co'>## Open up a socket connection (unless you have one open already):</span>
<span class='fu'><a href='create_new_connections.html'>create_new_connections</a></span>(<span class='fl'>1</span>)

<span class='co'># Start an account summary subscription for the default group ("All") using</span>
<span class='co'># all of the possible tags:</span>
<span class='fu'>req_account_summary</span>(<span class='kw'>channel</span> <span class='kw'>=</span> <span class='st'>"async"</span>)

<span class='co'># Within three minutes of starting the subscription, take a look at the</span>
<span class='co'># ACCOUNTS object in the treasury:</span>
<span class='no'>treasury</span>$<span class='no'>ACCOUNTS</span></div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 209 x 4</span><span>
#&gt;    account   tag                 tag_value  currency
#&gt;  </span><span style='color: #BCBCBC;'>*</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>               </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> DF1267859 AccountType         INDIVIDUAL </span><span style='color: #949494;'>""</span><span>      
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> DF1267859 Cushion             1          </span><span style='color: #949494;'>""</span><span>      
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> DF1267859 LookAheadNextChange 0          </span><span style='color: #949494;'>""</span><span>      
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> DF1267859 AccruedCash         0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> DF1267859 AvailableFunds      0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> DF1267859 BuyingPower         0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> DF1267859 EquityWithLoanValue 0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> DF1267859 ExcessLiquidity     0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> DF1267859 FullAvailableFunds  0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> DF1267859 FullExcessLiquidity 0.00       </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #949494;'># … with 199 more rows</span><span></div><div class='input'><span class='co'># See when it was last updated:</span>
<span class='no'>acc_sum_update_time</span> <span class='kw'>&lt;-</span> <span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span>(<span class='no'>treasury</span>$<span class='no'>ACCOUNTS</span>, <span class='st'>"last_updated"</span>)
<span class='no'>acc_sum_update_time</span></div><div class='output co'>#&gt; [1] "2020-03-17 13:12:05 EDT"</div><div class='input'>
<span class='co'># Soon after creating the subscription, try to update the ACCOUNTS</span>
<span class='co'># object in the treasury by calling read_sock_drawer():</span>
<span class='fu'><a href='read_sock_drawer.html'>read_sock_drawer</a></span>()

<span class='co'># If you're quick enough, you won't get any updated information because IB has</span>
<span class='co'># not sent updated data to the socket.</span>

<span class='co'># So, wait a while. For example's sake, let's wait a little over 3 minutes:</span>
<span class='fu'><a href='https://rdrr.io/r/base/Sys.sleep.html'>Sys.sleep</a></span>(<span class='fl'>200</span>)

<span class='co'># Keep calling...</span>
<span class='fu'><a href='read_sock_drawer.html'>read_sock_drawer</a></span>()

<span class='co'># ...a few times, waiting 10 or 20 seconds in between calls. After 3 minutes</span>
<span class='co'># have passed -- and probably before that -- you should see the</span>
<span class='co'># ACCOUNTS object update.</span>

<span class='co'># After updating, take a look in your treasury...</span>
<span class='no'>treasury</span>$<span class='no'>ACCOUNTS</span></div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 209 x 4</span><span>
#&gt;    account   tag                 tag_value  currency
#&gt;  </span><span style='color: #BCBCBC;'>*</span><span> </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>               </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>      </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 1</span><span> DU1267861 Cushion             0.955264   </span><span style='color: #949494;'>""</span><span>      
#&gt; </span><span style='color: #BCBCBC;'> 2</span><span> DU1267861 EquityWithLoanValue 994908.81  </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 3</span><span> DU1267861 NetLiquidation      994947.04  </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 4</span><span> DU1267861 TotalCashValue      818302.86  </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 5</span><span> DU1267861 BuyingPower         3800497.54 </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 6</span><span> DU1267861 GrossPositionValue  177608.71  </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 7</span><span> DU1267861 InitMarginReq       44784.43   </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 8</span><span> DU1267861 MaintMarginReq      44510.34   </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'> 9</span><span> DU1267861 AvailableFunds      950124.39  </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #BCBCBC;'>10</span><span> DU1267861 ExcessLiquidity     950436.70  </span><span style='color: #949494;'>"</span><span>USD</span><span style='color: #949494;'>"</span><span>   
#&gt; </span><span style='color: #949494;'># … with 199 more rows</span><span></div><div class='input'>
<span class='co'># ...and compare your old ACCOUNTS update time -- stored in the variable</span>
<span class='co'># "acct_sum_update_time" -- with your newly updated ACCOUNTS:</span>
<span class='no'>acc_sum_update_time</span></div><div class='output co'>#&gt; [1] "2020-03-17 13:12:05 EDT"</div><div class='input'><span class='fu'><a href='https://rdrr.io/r/base/attr.html'>attr</a></span>(<span class='no'>treasury</span>$<span class='no'>ACCOUNTS</span>, <span class='st'>"last_updated"</span>)</div><div class='output co'>#&gt; [1] "2020-03-17 13:15:25 EDT"</div><div class='input'>
<span class='co'># You can also take a look at the "account_summary" element of your </span>
<span class='co'># subscriptions object:</span>
<span class='no'>subscriptions</span>$<span class='no'>account_summary</span></div><div class='output co'>#&gt; </span><span style='color: #949494;'># A tibble: 1 x 5</span><span>
#&gt;   req_name tags                                        req_id conn_row client_id
#&gt;   </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span>                                        </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span>     </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span>
#&gt; </span><span style='color: #BCBCBC;'>1</span><span> All      AccountType, NetLiquidation, TotalCashValu…      9        4         1</div><div class='input'><span class='no'>subscriptions</span>$<span class='no'>account_summary</span>$<span class='no'>tags</span></div><div class='output co'>#&gt; [1] "AccountType, NetLiquidation, TotalCashValue, SettledCash, AccruedCash, BuyingPower, EquityWithLoanValue, PreviousEquityWithLoanValue, GrossPositionValue, ReqTEquity, ReqTMargin, SMA, InitMarginReq, MaintMarginReq, AvailableFunds, ExcessLiquidity, Cushion, FullInitMarginReq, FullMaintMarginReq, FullAvailableFunds, FullExcessLiquidity, LookAheadNextChange, LookAheadInitMarginReq, LookAheadMaintMarginReq, LookAheadAvailableFunds, LookAheadExcessLiquidity, HighestSeverity, DayTradesRemaining, Leverage"</div><div class='input'><span class='kw pkg'>dplyr</span><span class='kw ns'>::</span><span class='fu'><a href='https://dplyr.tidyverse.org/reference/reexports.html'>glimpse</a></span>(<span class='no'>subscriptions</span>$<span class='no'>account_summary</span>)</div><div class='output co'>#&gt; Observations: 1
#&gt; Variables: 5
#&gt; $ req_name  </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> "All"
#&gt; $ tags      </span><span style='color: #949494;font-style: italic;'>&lt;chr&gt;</span><span> "AccountType, NetLiquidation, TotalCashValue, SettledCash, …
#&gt; $ req_id    </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> 9
#&gt; $ conn_row  </span><span style='color: #949494;font-style: italic;'>&lt;dbl&gt;</span><span> 4
#&gt; $ client_id </span><span style='color: #949494;font-style: italic;'>&lt;int&gt;</span><span> 1</div><div class='input'>
<span class='co'># Finally, cancel the subscription. In this case, we want to cancel the one</span>
<span class='co'># subscribed to the groupName "All".</span>
<span class='fu'><a href='cancel_account_summary.html'>cancel_account_summary</a></span>(<span class='st'>"All"</span>)

<span class='co'># The subscription no longer appears in the subscription object:</span>
<span class='no'>subscriptions</span>$<span class='no'>account_summary</span></div><div class='output co'>#&gt; NULL</div><div class='input'>
<span class='co'># From this point in time onward (until you create another subscription and/or</span>
<span class='co'># unless there is an update on the socket left over from before you cancelled</span>
<span class='co'># the subscription in this example), the account summary will no longer update</span>
<span class='co'># no matter how many times you call</span>
<span class='fu'><a href='read_sock_drawer.html'>read_sock_drawer</a></span>()</div></span></pre>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="sidebar">
    <h2>Contents</h2>
    <ul class="nav nav-pills nav-stacked">
      <li><a href="#arguments">Arguments</a></li>
      <li><a href="#value">Value</a></li>
      <li><a href="#details">Details</a></li>
      <li><a href="#behavior">Behavior</a></li>
      <li><a href="#accounts-treasury-object">ACCOUNTS Treasury Object</a></li>
      <li><a href="#see-also">See also</a></li>
      <li><a href="#examples">Examples</a></li>
    </ul>

  </div>
</div>


      <footer>
      <div class="copyright">
  <p>Developed by Jake Vestal.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.4.1.</p>
</div>

      </footer>
   </div>

  


  </body>
</html>


